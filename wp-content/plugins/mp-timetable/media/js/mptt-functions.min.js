window.Registry=function(){"use strict";function t(t){var e=!1;return"function"==typeof t.getInstance&&(e=!0),e}function e(e,n){if(!t(n))throw new Error('Invalide module "'+e+'". The function "getInstance" is not defined.');s[e]=n}function n(e){for(var n in e)if(e.hasOwnProperty(n)){if(!t(e[n]))throw new Error('Invalide module "'+n+'" inside the collection. The function "getInstance" is not defined.');s[n]=e[n]}}function i(t){delete s[t]}function a(t){var e=s[t];if(!e)throw new Error('The module "'+t+'" has not been registered or it was unregistered.');if("function"!=typeof e.getInstance)throw new Error('The module "'+t+'" can not be instantiated. The function "getInstance" is not defined.');return s[t].getInstance()}var s={};return{register:e,unregister:i,_get:a,registryMap:n}}(),Registry.register("adminFunctions",function(t){"use strict";function e(){return{wpAjax:function(t,e,n){t.mptt_action=t.action,delete t.action,wp.ajax.send("route_url",{success:function(t){!_.isUndefined(n)&&_.isFunction(n)&&e(t)},error:function(t){!_.isUndefined(n)&&_.isFunction(n)?n(t):console.log(t)},data:t})},initJBox:function(t,e,s){i=t,a=e,n.buttonEvents(s)},buttonEvents:function(e){a.find("#insert-into").off("click").on("click",function(){e(t(this).parents("form").serializeArray())})},callModal:function(e,n,i){var a=t(window).outerHeight()-60,s=t(window).outerWidth()-60,o=(wp.html.string({tag:"span",attrs:{"class":"spinner is-active"},content:""}),{content:e,closeOnEsc:!0,animation:{open:"zoomIn",close:"zoomOut"},width:s,height:a,closeButton:"title",title:"Shortcode Settings",onOpen:function(){var e=t("#"+this.id);n.call(this,e)},onClose:function(){t("#"+this.id).remove()}});_.isUndefined(i)||t.extend(o,i),new jBox("Modal",o).open()},parseRequest:function(e){var n,i=location.search,a={};return _.isEmpty(i)||"?"===i?a:(i=i.replace("?",""),n=i.split("&"),t.each(n,function(){var t=this;t=t.split("="),a[t[0]]=t[1]}),_.isUndefined(e)?a:a[e])},generateHTML:function(e){var i,a="";if(_.isObject(e)){var s=document.createElement(e.tag);_.isUndefined(e.attrs)||t.each(e.attrs,function(t,e){_.isUndefined(e)||""===e||s.setAttribute(t,e)}),_.isArray(e.content)?(t.each(e.content,function(t,e){a+=n.generateHTML(e)}),t(s).html(a)):_.isObject(e.content)?(a=n.generateHTML(e.content),t(s).html(a)):_.isUndefined(e.content)?t(s).html(""):t(s).html(e.content),i=t(s).get(0).outerHTML}else i=!!_.isString(e)&&e;return i},getHtml:function(e,i){if(_.isUndefined(e))return!1;var a=!1;if(_.isUndefined(i)&&(_.isArray(e)?(a="",t.each(e,function(t,e){a+=n.generateHTML(e)})):a=n.generateHTML(e)),_.isObject(i)){a=_.template(a)(i)}return a}}}var n,i,a;return{getInstance:function(){return n||(n=e()),n}}}(jQuery)),function(t){"use strict";t(document).ready(function(){var e=t(".mptt-shortcode-wrapper");if("undefined"!=typeof typenow&&pagenow===typenow)switch(typenow){case"mp-event":Registry._get("Event").init();break;case"mp-column":Registry._get("Event").initDatePicker(),Registry._get("Event").columnRadioBox()}e.length&&(Registry._get("Event").initTableData(),Registry._get("Event").filterShortcodeEvents(),Registry._get("Event").getFilterByHash(),e.show()),(t(".upcoming-events-widget").length||e.length)&&Registry._get("Event").setColorSettings()})}(jQuery);